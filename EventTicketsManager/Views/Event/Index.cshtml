@using System.Globalization
@model IEnumerable<Server.SaveableEvent>

@{
    ViewData["Title"] = "Index";
}

<h1>Your events</h1>

<p>
    <a asp-action="Create" class="btn btn-primary">Create New</a>
</p>
<table class="table table-striped">
    <thead>
    <tr>
	    <th>
			N°
	    </th>
	    <th>
		    @Html.DisplayNameFor(model => model.Name)
	    </th>
	    <th>
		    @Html.DisplayNameFor(model => model.Start)
	    </th>
	    <th>
		    @Html.DisplayNameFor(model => model.End)
	    </th>
	    <th>
		    Address
	    </th>
	    <th>
		    City
	    </th>
	    <th>
		    Ticket Price
	    </th>
	    <th>
		    @Html.DisplayNameFor(model => model.Enabled)
	    </th>
	    <th>
		    Actions
	    </th>
    </tr>
    </thead>
    <tbody>
	@{
		var i = 1;
	}
    @foreach (var item in Model)
    {

		<tr>
			<td>
				@(i++)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Start)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.End)
			</td>
			<td>
				@($"{item.AddressNumber} {item.AddressName}")
			</td>
			<td>
				@($"{item.PostalCode} {item.CityName}")
			</td>
			<td>
				@item.EnterPrice.ToString("C", CultureInfo.CreateSpecificCulture("fr-FR"))
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Enabled)
			</td>

			<td>
				@Html.ActionLink("View", "Details", new {id=item.Id}, new {@class="btn btn-info"})
            </td>
		</tr>
    }
    </tbody>
</table>
